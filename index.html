<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vibe Restaurant Manager</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Sora:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/styles.css">
  <script src="/config.js"></script>
</head>
<body>
  <div class="page">
    <aside class="sidebar">
      <div class="brand">
        <div class="brand-mark">V</div>
        <div>
          <p class="eyebrow">Restaurant OS</p>
          <h1>Vibe</h1>
        </div>
      </div>
      <nav>
        <button class="nav-btn active" data-target="dashboard">Dashboard</button>
        <button class="nav-btn" data-target="menu">Menu</button>
        <button class="nav-btn" data-target="reservations">Reservations</button>
        <button class="nav-btn" data-target="orders">Orders</button>
      </nav>
      <div class="sidebar-footer">
        <p>Built for modern dining rooms. Runs entirely in the browser — no backend needed.</p>
        <a class="pill" href="mailto:manager@vibe.local">Support</a>
      </div>
    </aside>

    <main class="main">
      <header class="hero">
        <div>
          <p class="eyebrow">Today’s Control Room</p>
          <h2>Keep tables humming, dishes flowing, guests delighted.</h2>
          <p class="muted">Track reservations, fire orders, and tune your menu without leaving this page.</p>
          <div class="hero-actions">
            <button class="primary" id="live-btn" data-url="https://your-render-app.onrender.com">Open Live Site</button>
          </div>
        </div>
        <div class="hero-badges">
          <div class="badge">Live</div>
          <div class="badge ghost">Offline-first</div>
        </div>
      </header>

      <section id="dashboard" class="panel visible">
        <div class="grid stats">
          <div class="card stat">
            <p class="label">Revenue (today)</p>
            <p class="value" id="stat-revenue">$0</p>
            <p class="sub" id="stat-orders">0 orders</p>
          </div>
          <div class="card stat">
            <p class="label">Reservations</p>
            <p class="value" id="stat-reservations">0</p>
            <p class="sub" id="stat-res-status"></p>
          </div>
          <div class="card stat">
            <p class="label">Menu Availability</p>
            <p class="value" id="stat-available">0</p>
            <p class="sub" id="stat-86">86’d: 0</p>
          </div>
        </div>
        <div class="grid two">
          <div class="card list-card">
            <div class="card-head">
              <h3>Active Reservations</h3>
              <span class="pill pill-soft" id="res-count-pill">0</span>
            </div>
            <ul class="list" id="reservations-list"></ul>
          </div>
          <div class="card list-card">
            <div class="card-head">
              <h3>Open Orders</h3>
              <span class="pill pill-soft" id="order-count-pill">0</span>
            </div>
            <ul class="list" id="orders-list"></ul>
          </div>
        </div>
      </section>

      <section id="menu" class="panel">
        <div class="grid two">
          <form class="card form" id="menu-form">
            <div class="card-head">
              <div>
                <p class="eyebrow">Menu</p>
                <h3>Add or Edit Dish</h3>
              </div>
              <button type="button" class="ghost-btn" id="menu-reset">Reset</button>
            </div>
            <label>Dish name<input name="name" required></label>
            <div class="grid two">
              <label>Category<input name="category" placeholder="Mains / Small Plates" required></label>
              <label>Price ($)<input name="price" type="number" step="0.01" min="0" required></label>
            </div>
            <div class="grid two">
              <label>Prep time (min)<input name="prepTime" type="number" min="1" value="10"></label>
              <label>Availability
                <select name="available">
                  <option value="true" selected>Available</option>
                  <option value="false">86’d</option>
                </select>
              </label>
            </div>
            <input type="hidden" name="id">
            <button class="primary" type="submit">Save Dish</button>
          </form>

          <div class="card list-card">
            <div class="card-head">
              <h3>Menu Board</h3>
              <input id="menu-search" class="ghost-input" placeholder="Search dish or category">
            </div>
            <ul class="list" id="menu-list"></ul>
          </div>
        </div>
      </section>

      <section id="reservations" class="panel">
        <div class="grid two">
          <form class="card form" id="reservation-form">
            <div class="card-head">
              <div>
                <p class="eyebrow">Bookings</p>
                <h3>New Reservation</h3>
              </div>
              <button type="button" class="ghost-btn" id="reservation-reset">Reset</button>
            </div>
            <label>Guest name<input name="name" required></label>
            <div class="grid two">
              <label>Party size<input type="number" name="partySize" min="1" value="2" required></label>
              <label>Table #<input type="number" name="table" min="1" value="1" required></label>
            </div>
            <div class="grid two">
              <label>Date & time<input type="datetime-local" name="time" required></label>
              <label>Status
                <select name="status">
                  <option value="booked">Booked</option>
                  <option value="seated">Seated</option>
                  <option value="completed">Completed</option>
                  <option value="cancelled">Cancelled</option>
                </select>
              </label>
            </div>
            <label>Notes<textarea name="notes" rows="2" placeholder="Allergies, occasion, requests"></textarea></label>
            <input type="hidden" name="id">
            <button class="primary" type="submit">Save Reservation</button>
          </form>

          <div class="card list-card">
            <div class="card-head">
              <h3>Schedule</h3>
              <div class="filters">
                <select id="reservation-filter">
                  <option value="all">All</option>
                  <option value="booked">Booked</option>
                  <option value="seated">Seated</option>
                  <option value="completed">Completed</option>
                  <option value="cancelled">Cancelled</option>
                </select>
              </div>
            </div>
            <ul class="list" id="reservation-list"></ul>
          </div>
        </div>
      </section>

      <section id="orders" class="panel">
        <div class="grid two">
          <form class="card form" id="order-form">
            <div class="card-head">
              <div>
                <p class="eyebrow">Service</p>
                <h3>Create Order</h3>
              </div>
              <button type="button" class="ghost-btn" id="order-reset">Reset</button>
            </div>
            <div class="grid two">
              <label>Table #<input name="table" type="number" min="1" value="1" required></label>
              <label>Reservation (optional)
                <select name="reservationId" id="order-reservation">
                  <option value="">Walk-in</option>
                </select>
              </label>
            </div>
            <label>Items
              <div id="order-items"></div>
              <button type="button" class="ghost-btn" id="add-item">+ Add item</button>
            </label>
            <div class="grid two">
              <label>Status
                <select name="status">
                  <option value="open">Open</option>
                  <option value="fired">Fired</option>
                  <option value="served">Served</option>
                  <option value="paid">Paid</option>
                </select>
              </label>
              <label>Tax rate %
                <input name="taxRate" type="number" min="0" step="0.1" value="8.5">
              </label>
            </div>
            <input type="hidden" name="id">
            <button class="primary" type="submit">Save Order</button>
          </form>

          <div class="card list-card">
            <div class="card-head">
              <h3>Order Rail</h3>
              <div class="filters">
                <select id="order-filter">
                  <option value="all">All</option>
                  <option value="open">Open</option>
                  <option value="fired">Fired</option>
                  <option value="served">Served</option>
                  <option value="paid">Paid</option>
                </select>
              </div>
            </div>
            <ul class="list" id="order-list"></ul>
          </div>
        </div>
      </section>
    </main>
  </div>

  <template id="menu-item-template">
    <li class="list-item menu-item">
      <div>
        <p class="title"></p>
        <p class="muted meta"></p>
      </div>
      <div class="actions">
        <span class="pill pill-soft availability"></span>
        <button class="ghost-btn small edit">Edit</button>
        <button class="ghost-btn small danger delete">Delete</button>
      </div>
    </li>
  </template>

  <template id="reservation-item-template">
    <li class="list-item">
      <div>
        <p class="title"></p>
        <p class="muted meta"></p>
      </div>
      <div class="actions">
        <span class="pill pill-soft status"></span>
        <button class="ghost-btn small edit">Edit</button>
        <button class="ghost-btn small danger delete">Cancel</button>
      </div>
    </li>
  </template>

  <template id="order-item-template">
    <li class="list-item">
      <div>
        <p class="title"></p>
        <p class="muted meta"></p>
      </div>
      <div class="actions">
        <span class="pill pill-soft status"></span>
        <button class="ghost-btn small edit">Edit</button>
        <button class="ghost-btn small danger delete">Void</button>
      </div>
    </li>
  </template>

  <script src="assets/app.js"></script>
</body>
</html>
